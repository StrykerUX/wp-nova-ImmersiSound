/**
 * Nova Sound FX Public Styles - Versi칩n Mejorada
 * Estilos para efectos visuales y controles de usuario
 */

/* Variables CSS */
:root {
    --nova-fx-primary: #007cba;
    --nova-fx-primary-dark: #005a87;
    --nova-fx-success: #00a32a;
    --nova-fx-bg: rgba(255, 255, 255, 0.95);
    --nova-fx-text: #1e1e1e;
    --nova-fx-border: rgba(0, 0, 0, 0.1);
    
    /* Variables de personalizaci칩n din치micas */
    --nova-border-radius: 12px;
    --nova-floating-button-bg: #007cba;
    --nova-floating-button-icon: #ffffff;
    --nova-floating-button-size: 56px;
    
    /* Variables para notificaci칩n pendiente */
    --nova-pending-gradient-1: #4f46e5;
    --nova-pending-gradient-2: #7c3aed;
    --nova-pending-text-color: #ffffff;
    --nova-pending-border-color: rgba(255, 255, 255, 0.3);
    --nova-pending-button-bg: rgba(255, 255, 255, 0.2);
    --nova-pending-button-text: #ffffff;
    --nova-pending-button-border: rgba(255, 255, 255, 0.3);
}

/* Elementos con sonido activo - No agregamos estilos por defecto para evitar conflictos */
.nova-sound-fx-active {
    position: relative;
}

/* Efectos visuales al reproducir sonido - Solo si est치 habilitado */
.nova-sound-fx-active.nova-visual-enabled.nova-sound-playing {
    animation: novaPulse 0.5s ease;
}

@keyframes novaPulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
}

/* Efectos espec칤ficos por tipo de evento - Solo si est치n habilitados */
.nova-sound-fx-active.nova-visual-enabled.nova-sound-playing-hover {
    filter: brightness(1.1);
}

.nova-sound-fx-active.nova-visual-enabled.nova-sound-playing-click {
    animation: novaClick 0.3s ease;
}

@keyframes novaClick {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(0.95);
    }
    100% {
        transform: scale(1);
    }
}

.nova-sound-fx-active.nova-visual-enabled.nova-sound-playing-active {
    transform: scale(0.98);
    filter: brightness(0.95);
}

/* Indicador de onda de sonido */
.nova-sound-wave {
    position: fixed;
    z-index: 9999;
    pointer-events: none;
    display: flex;
    align-items: flex-end;
    gap: 2px;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.nova-sound-wave.active {
    opacity: 1;
}

.nova-sound-wave span {
    display: block;
    width: 3px;
    height: 20px;
    background: var(--nova-fx-primary);
    border-radius: 2px;
    animation: novaWave 0.8s ease-in-out infinite;
}

.nova-sound-wave span:nth-child(1) { animation-delay: 0s; }
.nova-sound-wave span:nth-child(2) { animation-delay: 0.1s; }
.nova-sound-wave span:nth-child(3) { animation-delay: 0.2s; }
.nova-sound-wave span:nth-child(4) { animation-delay: 0.3s; }
.nova-sound-wave span:nth-child(5) { animation-delay: 0.4s; }

@keyframes novaWave {
    0%, 100% {
        transform: scaleY(0.5);
    }
    50% {
        transform: scaleY(1);
    }
}

/* Overlay de transici칩n de p치gina */
.nova-page-transition-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.9);
    z-index: 99999;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}

.nova-page-transition-overlay.active {
    opacity: 1;
    pointer-events: auto;
}

.nova-page-transition-overlay::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 40px;
    height: 40px;
    margin: -20px 0 0 -20px;
    border: 3px solid var(--nova-fx-primary);
    border-radius: 50%;
    border-top-color: transparent;
    animation: novaSpin 1s linear infinite;
}

@keyframes novaSpin {
    to {
        transform: rotate(360deg);
    }
}

/* Controles de usuario - Ya definidos en shortcode */
/* Agregamos estilos adicionales para la animaci칩n de entrada */
.nova-sound-fx-controls.nova-controls-enter {
    animation: novaControlsSlideIn 0.5s ease;
}

@keyframes novaControlsSlideIn {
    from {
        transform: translateY(20px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

/* Botones con efecto hover mejorado */
.nova-control-btn {
    position: relative;
    overflow: hidden;
}

.nova-control-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(0, 124, 186, 0.2);
    transform: translate(-50%, -50%);
    transition: width 0.4s ease, height 0.4s ease;
}

.nova-control-btn:hover::before {
    width: 40px;
    height: 40px;
}

/* Estado colapsado para controles m칤nimos */
.nova-sound-fx-controls.nova-style-minimal.nova-collapsed .nova-controls-wrapper {
    width: auto;
}

.nova-sound-fx-controls.nova-style-minimal.nova-collapsed .nova-expand-btn {
    animation: novaPulseIcon 2s ease-in-out infinite;
}

@keyframes novaPulseIcon {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.6;
    }
}

/* Notificaciones mejoradas */
.nova-notification {
    transform: translateY(10px);
    opacity: 0;
    transition: all 0.3s ease;
}

.nova-notification.nova-show {
    transform: translateY(0);
    opacity: 1;
}

/* Estilos para tema oscuro */
@media (prefers-color-scheme: dark) {
    :root {
        --nova-fx-bg: rgba(30, 30, 30, 0.95);
        --nova-fx-text: #ffffff;
        --nova-fx-border: rgba(255, 255, 255, 0.1);
    }
    
    .nova-page-transition-overlay {
        background: rgba(0, 0, 0, 0.9);
    }
}

/* Accesibilidad - Reducir movimiento */
@media (prefers-reduced-motion: reduce) {
    .nova-sound-fx-active,
    .nova-sound-playing,
    .nova-sound-wave,
    .nova-control-btn,
    .nova-notification {
        animation: none !important;
        transition: none !important;
    }
    
    .nova-sound-wave {
        display: none;
    }
}

/* Iconos de bocina deshabilitados - Removidos por ser molestos */
/* 
.nova-sound-fx-active.nova-speaker-enabled[data-nova-sound-event="hover"]:hover::after,
.nova-sound-fx-active.nova-speaker-enabled[data-nova-sound-event="click"]:active::after {
    content: '游댉';
    position: absolute;
    top: -5px;
    right: -5px;
    font-size: 12px;
    z-index: 1;
    pointer-events: none;
    opacity: 0.7;
}
*/

/* Soporte para modo de vista previa */
body.nova-sound-fx-preview .nova-sound-fx-active {
    outline: 2px dashed var(--nova-fx-primary);
    outline-offset: 3px;
}

body.nova-sound-fx-preview .nova-sound-fx-active::before {
    content: attr(data-nova-sound-event);
    position: absolute;
    top: -25px;
    left: 0;
    background: var(--nova-fx-primary);
    color: white;
    padding: 2px 8px;
    border-radius: 3px;
    font-size: 11px;
    font-weight: 600;
    z-index: 9999;
    pointer-events: none;
}

/* Responsive m칩vil */
@media (max-width: 768px) {
    .nova-sound-wave {
        transform: scale(0.8);
    }
    
    .nova-sound-fx-controls {
        transform: scale(0.9);
        transform-origin: bottom right;
    }
}

/* Mejoras de rendimiento - Solo aplicar a elementos internos si es necesario */
/* Removido para evitar conflictos con men칰s y elementos interactivos */

/* Compatibilidad con diferentes temas de WordPress */
.nova-sound-fx-controls button,
.nova-sound-fx-controls input {
    box-sizing: border-box;
    font-family: inherit;
}

/* Z-index para asegurar que los controles est칠n siempre visibles */
.nova-sound-fx-controls {
    z-index: 99999;
}

.nova-sound-wave {
    z-index: 99998;
}

/* Estilos para debugging (ocultos por defecto) */
.nova-sound-fx-debug {
    position: fixed;
    bottom: 100px;
    right: 20px;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 10px;
    border-radius: 4px;
    font-family: monospace;
    font-size: 12px;
    display: none;
}

body.nova-sound-fx-debug-mode .nova-sound-fx-debug {
    display: block;
}

/* Animaci칩n suave para elementos con sonido - Solo cuando est치 activo */
.nova-sound-fx-active.nova-visual-enabled.nova-sound-playing {
    will-change: transform;
}

/* Estilos opcionales - Los desarrolladores pueden agregarlos si los necesitan */
/* 
.nova-sound-fx-active[data-nova-sound-event="hover"],
.nova-sound-fx-active[data-nova-sound-event="click"],
.nova-sound-fx-active[data-nova-sound-event="active"] {
    cursor: pointer;
    user-select: none;
}
*/

/* Prevenir conflictos con men칰s - Asegurar que los men칰s mantengan sus estilos */
.menu-item.nova-sound-fx-active,
.nav-link.nova-sound-fx-active,
ul.menu .nova-sound-fx-active,
nav .nova-sound-fx-active {
    /* Preservar comportamiento del men칰 */
    position: relative !important;
}

/* Asegurar que los pseudo-elementos del men칰 no se vean afectados */
.menu-item.nova-sound-fx-active::before,
.menu-item.nova-sound-fx-active::after,
.nav-link.nova-sound-fx-active::before,
.nav-link.nova-sound-fx-active::after {
    /* Los pseudo-elementos del men칰 tienen prioridad */
    z-index: 1;
}

/* Retroalimentaci칩n t치ctil en m칩viles */
@media (hover: none) {
    .nova-sound-fx-active:active {
        opacity: 0.8;
    }
}

/* ===================================
   POPUP DE CONSENTIMIENTO DE AUDIO
   =================================== */

/* Backdrop del popup */
.nova-consent-backdrop {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(5px);
    z-index: 999999;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.nova-consent-backdrop.nova-consent-show {
    opacity: 1;
}

/* Popup principal */
.nova-consent-popup {
    background: white;
    border-radius: var(--nova-border-radius);
    max-width: 500px;
    width: 90%;
    padding: 40px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    transform: scale(0.9);
    transition: transform 0.3s ease;
    position: relative;
    max-height: 90vh;
    overflow-y: auto;
}

.nova-consent-backdrop.nova-consent-show .nova-consent-popup {
    transform: scale(1);
}

/* Contenido del popup */
.nova-consent-content {
    text-align: center;
}

.nova-consent-icon {
    margin-bottom: 20px;
    color: var(--nova-fx-primary);
    animation: novaMusicBounce 2s ease-in-out infinite;
}

@keyframes novaMusicBounce {
    0%, 100% { transform: translateY(0); }
    25% { transform: translateY(-5px) rotate(-5deg); }
    75% { transform: translateY(-5px) rotate(5deg); }
}

.nova-consent-title {
    font-size: 24px;
    font-weight: 600;
    margin-bottom: 15px;
    color: #1e1e1e;
}

.nova-consent-description {
    font-size: 16px;
    line-height: 1.6;
    color: #666;
    margin-bottom: 25px;
}

/* Beneficios */
.nova-consent-benefits {
    background: #f7f7f7;
    border-radius: var(--nova-border-radius);
    padding: 20px;
    margin-bottom: 30px;
}

.nova-consent-benefit {
    display: flex;
    align-items: center;
    margin-bottom: 12px;
    text-align: left;
}

.nova-consent-benefit:last-child {
    margin-bottom: 0;
}

.nova-consent-benefit svg {
    color: var(--nova-fx-success);
    margin-right: 12px;
    flex-shrink: 0;
}

.nova-consent-benefit span {
    font-size: 14px;
    color: #444;
}

/* Acciones */
.nova-consent-actions {
    display: flex;
    gap: 12px;
    margin-bottom: 20px;
}

.nova-consent-accept,
.nova-consent-reject {
    flex: 1;
    padding: 14px 24px;
    border-radius: var(--nova-border-radius);
    font-size: 16px;
    font-weight: 500;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

.nova-consent-accept {
    background: var(--nova-fx-primary);
    color: white;
}

.nova-consent-accept:hover {
    background: var(--nova-fx-primary-dark);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 124, 186, 0.3);
}

.nova-consent-reject {
    background: #f0f0f0;
    color: #666;
}

.nova-consent-reject:hover {
    background: #e0e0e0;
}

/* Recordar preferencia */
.nova-consent-remember {
    font-size: 14px;
    color: #666;
}

.nova-consent-remember label {
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

.nova-consent-remember input[type="checkbox"] {
    margin-right: 8px;
}

/* ===================================
   CONTROLADOR FLOTANTE
   =================================== */

/* Controlador principal */
.nova-floating-controller {
    position: fixed;
    bottom: 30px;
    left: 30px;
    z-index: 999998;
    display: flex;
    align-items: center;
    gap: 12px;
    opacity: 0;
    transform: translateX(-100px);
    transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.nova-floating-controller.nova-controller-show {
    opacity: 1;
    transform: translateX(0);
}

/* Bot칩n principal */
.nova-controller-main {
    position: relative;
}

.nova-controller-toggle {
    width: var(--nova-floating-button-size);
    height: var(--nova-floating-button-size);
    border-radius: var(--nova-border-radius);
    background: var(--nova-floating-button-bg);
    border: none;
    color: var(--nova-floating-button-icon);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 4px 20px rgba(0, 124, 186, 0.3);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.nova-controller-toggle::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
    transform: translate(-50%, -50%);
    transition: width 0.4s ease, height 0.4s ease;
}

.nova-controller-toggle:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 30px rgba(0, 124, 186, 0.4);
}

.nova-controller-toggle:hover::before {
    width: 100px;
    height: 100px;
}

.nova-controller-toggle:active {
    transform: scale(0.95);
}

/* Estado muted */
.nova-floating-controller.nova-controller-muted .nova-controller-toggle {
    background: linear-gradient(135deg, #999 0%, #666 100%);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

/* Animaci칩n de ondas de sonido */
.nova-controller-toggle:not(.nova-controller-muted) .nova-sound-wave-1,
.nova-controller-toggle:not(.nova-controller-muted) .nova-sound-wave-2 {
    animation: novaControllerWave 2s ease-in-out infinite;
}

.nova-controller-toggle:not(.nova-controller-muted) .nova-sound-wave-2 {
    animation-delay: 0.5s;
}

@keyframes novaControllerWave {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 1; }
}

/* Panel expandido */
.nova-controller-expanded {
    background: white;
    border-radius: var(--nova-border-radius);
    padding: 12px 16px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    gap: 16px;
    opacity: 0;
    transform: translateX(-20px);
    pointer-events: none;
    transition: all 0.3s ease;
}

.nova-floating-controller.nova-controller-expanded-show .nova-controller-expanded {
    opacity: 1;
    transform: translateX(0);
    pointer-events: auto;
}

/* Control de volumen */
.nova-volume-control {
    display: flex;
    align-items: center;
    gap: 12px;
}

.nova-volume-slider {
    width: 120px;
    height: 4px;
    -webkit-appearance: none;
    appearance: none;
    background: #e0e0e0;
    border-radius: 2px;
    outline: none;
    cursor: pointer;
}

.nova-volume-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 16px;
    height: 16px;
    background: var(--nova-fx-primary);
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s ease;
}

.nova-volume-slider::-moz-range-thumb {
    width: 16px;
    height: 16px;
    background: var(--nova-fx-primary);
    border-radius: 50%;
    cursor: pointer;
    border: none;
    transition: all 0.3s ease;
}

.nova-volume-slider:hover::-webkit-slider-thumb {
    transform: scale(1.2);
    box-shadow: 0 0 10px rgba(0, 124, 186, 0.4);
}

.nova-volume-slider:hover::-moz-range-thumb {
    transform: scale(1.2);
    box-shadow: 0 0 10px rgba(0, 124, 186, 0.4);
}

.nova-volume-value {
    font-size: 14px;
    font-weight: 500;
    color: #666;
    min-width: 40px;
}

/* Acciones del controlador */
.nova-controller-actions {
    display: flex;
    gap: 8px;
}

.nova-controller-settings {
    width: 32px;
    height: 32px;
    border-radius: var(--nova-border-radius);
    background: #f0f0f0;
    border: none;
    color: #666;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
}

.nova-controller-settings:hover {
    background: var(--nova-fx-primary);
    color: white;
    transform: rotate(90deg);
}

/* ===================================
   MODAL DE CONFIGURACI칍N
   =================================== */

.nova-settings-modal {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.9);
    background: white;
    border-radius: var(--nova-border-radius);
    padding: 30px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    z-index: 999999;
    max-width: 400px;
    width: 90%;
    opacity: 0;
    transition: all 0.3s ease;
}

.nova-settings-modal.nova-modal-show {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
}

.nova-settings-content h3 {
    margin-top: 0;
    margin-bottom: 20px;
    color: #1e1e1e;
}

.nova-settings-option {
    margin-bottom: 20px;
}

.nova-settings-option label {
    display: flex;
    align-items: center;
    cursor: pointer;
}

.nova-settings-option input[type="checkbox"] {
    margin-right: 10px;
}

.nova-settings-actions {
    display: flex;
    gap: 10px;
    justify-content: flex-end;
}

.nova-settings-actions button {
    padding: 10px 20px;
    border-radius: var(--nova-border-radius);
    border: none;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.3s ease;
}

#nova-settings-close {
    background: #f0f0f0;
    color: #666;
}

#nova-settings-close:hover {
    background: #e0e0e0;
}

#nova-settings-reset {
    background: #dc3545;
    color: white;
}

#nova-settings-reset:hover {
    background: #c82333;
}

/* ===================================
   NOTIFICACIONES TOAST
   =================================== */

.nova-toast {
    position: fixed;
    top: 20px;
    right: 20px;
    background: white;
    border-radius: var(--nova-border-radius);
    padding: 10px 14px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
    z-index: 999999;
    opacity: 0;
    transform: translateY(-20px);
    transition: all 0.3s ease;
    border-left: 3px solid var(--nova-fx-primary);
    font-size: 14px;
    max-width: 280px;
}

.nova-toast.nova-toast-show {
    opacity: 1;
    transform: translateY(0);
}

.nova-toast.nova-toast-success {
    border-left-color: var(--nova-fx-success);
}

.nova-toast.nova-toast-info {
    border-left-color: var(--nova-fx-primary);
}

.nova-toast-content {
    display: flex;
    align-items: center;
    gap: 12px;
}

/* ===================================
   RESPONSIVE M칍VIL
   =================================== */

@media (max-width: 768px) {
    .nova-consent-popup {
        padding: 30px 20px;
        width: 95%;
    }
    
    .nova-consent-actions {
        flex-direction: column;
    }
    
    .nova-floating-controller {
        bottom: 20px;
        left: 20px;
    }
    
    .nova-controller-toggle {
        width: calc(var(--nova-floating-button-size) * 0.85);
        height: calc(var(--nova-floating-button-size) * 0.85);
    }
    
    .nova-controller-expanded {
        position: absolute;
        left: 60px;
        bottom: 0;
    }
    
    .nova-toast {
        right: 10px;
        left: 10px;
        width: auto;
        padding: 8px 12px;
        font-size: 13px;
        top: 10px;
    }
}

/* ===================================
   TEMA OSCURO
   =================================== */

@media (prefers-color-scheme: dark) {
    .nova-consent-popup {
        background: #2a2a2a;
        color: #f0f0f0;
    }
    
    .nova-consent-title {
        color: #f0f0f0;
    }
    
    .nova-consent-description {
        color: #aaa;
    }
    
    .nova-consent-benefits {
        background: #1a1a1a;
    }
    
    .nova-consent-benefit span {
        color: #ccc;
    }
    
    .nova-consent-reject {
        background: #3a3a3a;
        color: #f0f0f0;
    }
    
    .nova-consent-reject:hover {
        background: #4a4a4a;
    }
    
    .nova-controller-expanded {
        background: #2a2a2a;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
    }
    
    .nova-volume-value {
        color: #ccc;
    }
    
    .nova-controller-settings {
        background: #3a3a3a;
        color: #ccc;
    }
    
    .nova-settings-modal {
        background: #2a2a2a;
        color: #f0f0f0;
    }
    
    .nova-settings-content h3 {
        color: #f0f0f0;
    }
    
    #nova-settings-close {
        background: #3a3a3a;
        color: #f0f0f0;
    }
    
    .nova-toast {
        background: #2a2a2a;
        color: #f0f0f0;
    }
}

/* ===================================
   NOTIFICACI칍N DE AUDIO PENDIENTE
   =================================== */

.nova-audio-pending-notification {
    position: fixed;
    left: 50%;
    transform: translateX(-50%) translateY(-100px);
    background: linear-gradient(135deg, var(--nova-pending-gradient-1) 0%, var(--nova-pending-gradient-2) 100%);
    color: var(--nova-pending-text-color);
    border-radius: var(--nova-border-radius);
    padding: 16px 20px;
    box-shadow: 0 10px 40px rgba(79, 70, 229, 0.3);
    z-index: 999999;
    opacity: 0;
    transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    max-width: 500px;
    width: 90%;
    backdrop-filter: blur(10px);
}

/* Posici칩n arriba */
.nova-audio-pending-notification.nova-pending-top {
    top: 20px;
}

/* Posici칩n abajo */
.nova-audio-pending-notification.nova-pending-bottom {
    bottom: 20px;
    transform: translateX(-50%) translateY(100px);
}

/* Sin backdrop filter */
.nova-audio-pending-notification.nova-no-backdrop-filter {
    backdrop-filter: none;
}

.nova-audio-pending-notification.nova-pending-show {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
}

.nova-audio-pending-notification.nova-pending-bottom.nova-pending-show {
    transform: translateX(-50%) translateY(0);
}

.nova-pending-content {
    display: flex;
    align-items: center;
    gap: 16px;
}

.nova-pending-icon {
    background: var(--nova-pending-button-bg);
    border-radius: var(--nova-border-radius);
    padding: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: novaPendingPulse 2s ease-in-out infinite;
    border: 1px solid var(--nova-pending-border-color);
}

@keyframes novaPendingPulse {
    0%, 100% { 
        transform: scale(1);
        background: rgba(255, 255, 255, 0.2);
    }
    50% { 
        transform: scale(1.05);
        background: rgba(255, 255, 255, 0.3);
    }
}

.nova-pending-text {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.nova-pending-title {
    font-weight: 600;
    font-size: 16px;
}

.nova-pending-subtitle {
    font-size: 14px;
    opacity: 0.9;
    cursor: pointer;
    position: relative;
}

.nova-pending-subtitle::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background: rgba(255, 255, 255, 0.6);
    transition: width 0.3s ease;
}

.nova-pending-subtitle:hover::after {
    width: 100%;
}

.nova-pending-activate {
    background: var(--nova-pending-button-bg);
    border: 2px solid var(--nova-pending-button-border);
    color: var(--nova-pending-button-text);
    border-radius: var(--nova-border-radius);
    padding: 10px 16px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
}

.nova-pending-activate:hover {
    background: rgba(255, 255, 255, 0.3);
    border-color: rgba(255, 255, 255, 0.5);
    transform: translateY(-2px);
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
}

.nova-pending-activate:active {
    transform: translateY(0);
}

.nova-pending-activate svg {
    transition: transform 0.3s ease;
}

.nova-pending-activate:hover svg {
    transform: translateX(2px);
}

/* Indicador en el body cuando hay audio pendiente */
body.nova-audio-pending::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, #4f46e5, #7c3aed, #4f46e5);
    background-size: 200% 100%;
    z-index: 999998;
    animation: novaAudioPendingBar 2s linear infinite;
}

@keyframes novaAudioPendingBar {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

/* Pulso sutil en elementos interactivos cuando hay audio pendiente */
body.nova-audio-pending button:not(.nova-pending-activate):not([class*="nova-"]),
body.nova-audio-pending a:not([class*="nova-"]),
body.nova-audio-pending [role="button"]:not([class*="nova-"]) {
    position: relative;
}

body.nova-audio-pending button:not(.nova-pending-activate):not([class*="nova-"])::after,
body.nova-audio-pending a:not([class*="nova-"])::after,
body.nova-audio-pending [role="button"]:not([class*="nova-"])::after {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    border: 2px solid transparent;
    border-radius: inherit;
    background: linear-gradient(45deg, #4f46e5, transparent, #7c3aed, transparent) border-box;
    -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: exclude;
    mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
    mask-composite: exclude;
    opacity: 0;
    animation: novaPendingElementPulse 3s ease-in-out infinite;
    pointer-events: none;
}

@keyframes novaPendingElementPulse {
    0%, 90%, 100% { opacity: 0; }
    5%, 85% { opacity: 0.3; }
}

/* ===================================
   RESPONSIVE M칍VIL PARA NOTIFICACI칍N PENDIENTE
   =================================== */

@media (max-width: 768px) {
    .nova-audio-pending-notification {
        top: 10px;
        padding: 14px 16px;
        width: 95%;
    }
    
    .nova-pending-content {
        gap: 12px;
    }
    
    .nova-pending-icon {
        padding: 10px;
    }
    
    .nova-pending-title {
        font-size: 15px;
    }
    
    .nova-pending-subtitle {
        font-size: 13px;
    }
    
    .nova-pending-activate {
        padding: 8px 12px;
        font-size: 13px;
    }
}

/* ===================================
   TEMA OSCURO PARA NOTIFICACI칍N PENDIENTE
   =================================== */

@media (prefers-color-scheme: dark) {
    .nova-audio-pending-notification {
        background: linear-gradient(135deg, #1e1b4b 0%, #581c87 100%);
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
    }
}

/* ===================================
   ACCESIBILIDAD
   =================================== */

@media (prefers-reduced-motion: reduce) {
    .nova-consent-icon,
    .nova-controller-toggle,
    .nova-sound-wave-1,
    .nova-sound-wave-2,
    .nova-pending-icon {
        animation: none !important;
    }
    
    .nova-consent-backdrop,
    .nova-consent-popup,
    .nova-floating-controller,
    .nova-controller-expanded,
    .nova-toast,
    .nova-audio-pending-notification {
        transition: none !important;
    }
    
    body.nova-audio-pending::before,
    body.nova-audio-pending button::after,
    body.nova-audio-pending a::after,
    body.nova-audio-pending [role="button"]::after {
        animation: none !important;
        display: none;
    }
}

/* ===================================
   TAMA칌OS DEL BOT칍N FLOTANTE
   =================================== */

/* Tama침o peque침o */
.nova-floating-controller.nova-size-small .nova-controller-toggle {
    --nova-floating-button-size: 40px;
}

/* Tama침o mediano (por defecto) */
.nova-floating-controller.nova-size-medium .nova-controller-toggle {
    --nova-floating-button-size: 56px;
}

/* Tama침o grande */
.nova-floating-controller.nova-size-large .nova-controller-toggle {
    --nova-floating-button-size: 72px;
}

/* ===================================
   CONTROL DE EFECTOS VISUALES
   =================================== */

/* Ocultar todos los efectos visuales cuando est치n deshabilitados */
body.nova-hide-visual-effects .nova-sound-wave,
body.nova-hide-visual-effects .nova-sound-wave.active {
    display: none !important;
    opacity: 0 !important;
    visibility: hidden !important;
}

/* Deshabilitar animaciones de efectos visuales cuando est치n deshabilitados */
body.nova-hide-visual-effects .nova-sound-fx-active.nova-visual-enabled.nova-sound-playing,
body.nova-hide-visual-effects .nova-sound-fx-active.nova-visual-enabled.nova-sound-playing-hover,
body.nova-hide-visual-effects .nova-sound-fx-active.nova-visual-enabled.nova-sound-playing-click,
body.nova-hide-visual-effects .nova-sound-fx-active.nova-visual-enabled.nova-sound-playing-active {
    animation: none !important;
    transform: none !important;
    filter: none !important;
}

/* Ocultar ondas del controlador flotante cuando efectos est치n deshabilitados */
body.nova-hide-visual-effects .nova-controller-toggle .nova-sound-wave-1,
body.nova-hide-visual-effects .nova-controller-toggle .nova-sound-wave-2 {
    animation: none !important;
    opacity: 0.3 !important;
}
